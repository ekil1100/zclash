# Baseline 对比（mihomo/clash vs zclash）

> 状态：DOING  
> 更新时间：2026-02-11 04:00 (GMT+8)

## 1. 对比范围

- CLI 易用性
- API 易用性与契约稳定性
- TUI 可用性
- 协议与规则能力
- 性能（启动、延迟、吞吐、资源占用）
- 稳定性与可观测性

## 2. 能力矩阵（P0-1 收尾版）

| 维度 | mihomo/clash（基线） | zclash（当前） | 关键差距 | 动作类型 | 优先级 | 备注 |
|---|---|---|---|---|---|---|
| CLI 命令直觉性 | 成熟，常见命令语义稳定 | 已有核心命令，统一性待提升 | 命令模型、错误提示、输出格式不统一 | 必补 | P0 | Phase 1 入口项 |
| API 完整性 | 生态成熟，面板兼容广 | API 有基础，v1 资源模型未锁定 | 资源模型与错误码体系未锁定 | 必补 | P0 | 需 OpenAPI + 错误码 |
| TUI 易用性 | 社区工具多，体验分散 | 内置 TUI 已有框架 | 信息架构与快捷键一致性不足 | 增强 | P1 | 先完成 CLI/API 契约后推进 |
| 规则系统 | 成熟，类型完整 | 已实现核心规则 | 边界规则覆盖与诊断能力不足 | 增强 | P1 | 需结合场景测试补齐 |
| 协议支持 | 覆盖广 | 覆盖基础协议，部分能力待增强 | 协议覆盖面与边界稳定性仍有差距 | 增强 | P1 | 先稳后扩 |
| 性能基准 | 已有大量实践验证 | 缺统一 benchmark 体系 | 缺可重复 benchmark 数据与门禁 | 必补 | P0 | Phase 0 核心项 |
| 稳定性与排障 | 生态经验丰富 | 有基础日志与状态 | 长稳测试、故障注入、回滚机制未成体系 | 必补 | P0 | 需纳入回归门禁 |
| 生态兼容与迁移 | 迁移路径成熟 | 兼容策略未系统化 | 缺迁移工具与兼容文档闭环 | 可延后 | P2 | 在核心体验稳定后推进 |

## 3. 分级口径（用于追踪）

- **必补**：不补会阻塞核心体验或导致后续返工（通常 P0）
- **增强**：不阻塞主线，但会影响体验上限（通常 P1）
- **可延后**：不影响当前主线里程碑，可在稳定后推进（通常 P2）

## 4. 当前结论（更新）

1. 现阶段 P0 主战场是“契约统一 + 可测量能力”：CLI/API 契约、benchmark、稳定性机制。  
2. TUI、规则边界、协议扩展属于 P1 增强项，避免与 P0 并发抢资源。  
3. 生态迁移（P2）在 P0/P1 稳定后推进，减少反复迁移成本。

## 5. 下一步（与 P0-4 对齐）

- 将本表分级同步到 `docs/roadmap/gap-analysis.md`
- 基于该分级冻结 Phase 1 入口条件
- 按 P0 优先项回填 baseline 实测数据
