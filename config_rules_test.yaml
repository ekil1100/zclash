# 规则引擎完整测试配置
port: 7890
socks-port: 7891

proxies:
  - name: DIRECT
    type: direct

  - name: PROXY
    type: ss
    server: 1.2.3.4
    port: 8388
    cipher: aes-128-gcm
    password: test

proxy-groups:
  - name: Select
    type: select
    proxies:
      - DIRECT
      - PROXY

# 完整规则测试
rules:
  # 1. DOMAIN - 精确域名匹配
  - DOMAIN,www.example.com,DIRECT
  
  # 2. DOMAIN-SUFFIX - 后缀匹配
  - DOMAIN-SUFFIX,google.com,PROXY
  - DOMAIN-SUFFIX,youtube.com,PROXY
  
  # 3. DOMAIN-KEYWORD - 关键词匹配
  - DOMAIN-KEYWORD,google,PROXY
  - DOMAIN-KEYWORD,ad,DIRECT
  
  # 4. IP-CIDR - IPv4 CIDR 匹配
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  
  # 5. IP-CIDR6 - IPv6 CIDR 匹配
  - IP-CIDR6,fe80::/10,DIRECT
  - IP-CIDR6,2001:db8::/32,PROXY
  
  # 6. GEOIP - 地理 IP 匹配
  - GEOIP,CN,DIRECT
  - GEOIP,private,DIRECT
  
  # 7. SRC-IP-CIDR - 源 IP CIDR
  - SRC-IP-CIDR,192.168.1.0/24,DIRECT
  
  # 8. DST-PORT - 目标端口
  - DST-PORT,22,DIRECT
  - DST-PORT,80,PROXY
  - DST-PORT,443,PROXY
  - DST-PORT,8080-8090,PROXY
  
  # 9. SRC-PORT - 源端口
  - SRC-PORT,12345,DIRECT
  
  # 10. PROCESS-NAME - 进程名
  - PROCESS-NAME,ssh,DIRECT
  - PROCESS-NAME,curl,PROXY
  
  # 11. no-resolve 标记
  - DOMAIN-SUFFIX,local,DIRECT,no-resolve
  - DOMAIN-SUFFIX,lan,DIRECT,no-resolve
  
  # 12. FINAL - 默认规则
  - MATCH,Select
